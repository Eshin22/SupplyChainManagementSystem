"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/Employee/updateSchedule";
exports.ids = ["pages/api/Employee/updateSchedule"];
exports.modules = {

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("cors");

/***/ }),

/***/ "mysql2":
/*!*************************!*\
  !*** external "mysql2" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("mysql2");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FEmployee%2FupdateSchedule&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CEmployee%5CupdateSchedule.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FEmployee%2FupdateSchedule&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CEmployee%5CupdateSchedule.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_Employee_updateSchedule_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\Employee\\updateSchedule.js */ \"(api)/./pages/api/Employee/updateSchedule.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_Employee_updateSchedule_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_Employee_updateSchedule_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/Employee/updateSchedule\",\n        pathname: \"/api/Employee/updateSchedule\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_Employee_updateSchedule_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRkVtcGxveWVlJTJGdXBkYXRlU2NoZWR1bGUmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q0VtcGxveWVlJTVDdXBkYXRlU2NoZWR1bGUuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDc0U7QUFDdEU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLGtFQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxrRUFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY21zLz8yM2Y1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcRW1wbG95ZWVcXFxcdXBkYXRlU2NoZWR1bGUuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9FbXBsb3llZS91cGRhdGVTY2hlZHVsZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL0VtcGxveWVlL3VwZGF0ZVNjaGVkdWxlXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FEmployee%2FupdateSchedule&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CEmployee%5CupdateSchedule.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./backend/db.js":
/*!***********************!*\
  !*** ./backend/db.js ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mysql2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2 */ \"mysql2\");\n\nlet db;\ndb = mysql2__WEBPACK_IMPORTED_MODULE_0__.createConnection({\n    host: process.env.DATABASE_HOST,\n    user: process.env.DATABASE_USER,\n    password: process.env.DATABASE_PASSWORD,\n    database: process.env.DATABASE_NAME,\n    port: process.env.DATABASE_PORT\n}); // Wrap connection in .promise() to use async/await\ndb.connect((err)=>{\n    if (err) {\n        console.error(\"Database connection failed:\", err.stack);\n        return;\n    }\n    console.log(\"Connected to the database.\");\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (db);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9iYWNrZW5kL2RiLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJCO0FBRTNCLElBQUlDO0FBQ0pBLEtBQUtELG9EQUFzQixDQUFDO0lBQzFCRyxNQUFNQyxRQUFRQyxHQUFHLENBQUNDLGFBQWE7SUFDL0JDLE1BQU9ILFFBQVFDLEdBQUcsQ0FBQ0csYUFBYTtJQUNoQ0MsVUFBVUwsUUFBUUMsR0FBRyxDQUFDSyxpQkFBaUI7SUFDdkNDLFVBQVVQLFFBQVFDLEdBQUcsQ0FBQ08sYUFBYTtJQUNuQ0MsTUFBTVQsUUFBUUMsR0FBRyxDQUFDUyxhQUFhO0FBQ2pDLElBQUssbURBQW1EO0FBRXhEYixHQUFHYyxPQUFPLENBQUMsQ0FBQ0M7SUFDVixJQUFJQSxLQUFLO1FBQ1BDLFFBQVFDLEtBQUssQ0FBQywrQkFBK0JGLElBQUlHLEtBQUs7UUFDdEQ7SUFDRjtJQUNBRixRQUFRRyxHQUFHLENBQUM7QUFDZDtBQUVBLGlFQUFlbkIsRUFBRUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NjbXMvLi9iYWNrZW5kL2RiLmpzP2Q3OGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gJ215c3FsMic7IFxyXG5cclxubGV0IGRiO1xyXG5kYiA9IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xyXG4gIGhvc3Q6IHByb2Nlc3MuZW52LkRBVEFCQVNFX0hPU1QsXHJcbiAgdXNlcjogIHByb2Nlc3MuZW52LkRBVEFCQVNFX1VTRVIsXHJcbiAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LkRBVEFCQVNFX1BBU1NXT1JELFxyXG4gIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9OQU1FLFxyXG4gIHBvcnQ6IHByb2Nlc3MuZW52LkRBVEFCQVNFX1BPUlRcclxufSk7ICAvLyBXcmFwIGNvbm5lY3Rpb24gaW4gLnByb21pc2UoKSB0byB1c2UgYXN5bmMvYXdhaXRcclxuXHJcbmRiLmNvbm5lY3QoKGVycikgPT4ge1xyXG4gIGlmIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZDpcIiwgZXJyLnN0YWNrKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgY29uc29sZS5sb2coXCJDb25uZWN0ZWQgdG8gdGhlIGRhdGFiYXNlLlwiKTtcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkYjsiXSwibmFtZXMiOlsibXlzcWwiLCJkYiIsImNyZWF0ZUNvbm5lY3Rpb24iLCJob3N0IiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX0hPU1QiLCJ1c2VyIiwiREFUQUJBU0VfVVNFUiIsInBhc3N3b3JkIiwiREFUQUJBU0VfUEFTU1dPUkQiLCJkYXRhYmFzZSIsIkRBVEFCQVNFX05BTUUiLCJwb3J0IiwiREFUQUJBU0VfUE9SVCIsImNvbm5lY3QiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJzdGFjayIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./backend/db.js\n");

/***/ }),

/***/ "(api)/./pages/api/Employee/updateSchedule.js":
/*!**********************************************!*\
  !*** ./pages/api/Employee/updateSchedule.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _backend_db_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../backend/db.js */ \"(api)/./backend/db.js\");\n/* harmony import */ var _utils_cors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/cors.js */ \"(api)/./utils/cors.js\");\n\n\nfunction dbQuery(query, values = []) {\n    return new Promise((resolve, reject)=>{\n        _backend_db_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(query, values, (err, result)=>{\n            if (err) reject(err);\n            else resolve(result);\n        });\n    });\n}\nasync function handler(req, res) {\n    try {\n        await (0,_utils_cors_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(req, res);\n    } catch (error) {\n        console.error(\"CORS error:\", error);\n        return res.status(500).json({\n            error: \"CORS failed\"\n        });\n    }\n    if (req.method === \"POST\") {\n        const { city } = req.body;\n        try {\n            const orders = await dbQuery(`SELECT * FROM orders WHERE CurrentStatus = 'At Distribution Center' AND City = ?`, [\n                city\n            ]);\n            const drivers = await dbQuery(`SELECT driver.DriverID, driver.WeeklyWorkHours, driver.StoreID, driver.EmployeeID\r\n         FROM driver \r\n         JOIN store ON store.StoreID = driver.StoreID\r\n         WHERE store.CityName = ? AND driver.WeeklyWorkHours < 40`, [\n                city\n            ]);\n            const assistants = await dbQuery(`SELECT driverassistant.AssistantID, driverassistant.WeeklyWorkHours, driverassistant.StoreID, driverassistant.EmployeeID\r\n         FROM driverassistant \r\n         JOIN store ON store.StoreID = driverassistant.StoreID\r\n         WHERE store.CityName = ? AND driverassistant.WeeklyWorkHours < 60`, [\n                city\n            ]);\n            const trucks = await dbQuery(`SELECT truck.TruckID, truck.StoreID, truck.TruckNumber, truck.Capacity, truck.Condition_\r\n         FROM truck \r\n         JOIN store ON store.StoreID = truck.StoreID\r\n         WHERE store.CityName = ? AND truck.Condition_ = 'Good'`, [\n                city\n            ]);\n            const routes = await dbQuery(`SELECT DISTINCT route.RouteID, route.StoreID, route.RouteDescription, route.MaxTimeHrs\r\n         FROM route\r\n         JOIN store ON route.StoreID = store.StoreID\r\n         WHERE store.CityName = ? AND route.RouteID IN (\r\n           SELECT DISTINCT orders.RouteID\r\n           FROM orders\r\n           WHERE orders.CurrentStatus = 'At Distribution Center' AND orders.City = ?)\r\n         `, [\n                city,\n                city\n            ]);\n            // Group orders by RouteID\n            const ordersByRoute = {};\n            for (const order of orders){\n                if (!ordersByRoute[order.RouteID]) {\n                    ordersByRoute[order.RouteID] = [];\n                }\n                ordersByRoute[order.RouteID].push(order);\n            }\n            let assignedSchedules = [];\n            let driverIndex = 0;\n            let assistantIndex = 0;\n            const today = new Date();\n            today.setDate(today.getDate() + 1);\n            const formattedDate = today.toISOString().split(\"T\")[0];\n            // Iterate through each route and assign resources\n            for (const route of routes){\n                const ordersForRoute = ordersByRoute[route.RouteID];\n                if (!ordersForRoute) continue;\n                const assignedTruck = trucks.shift(); // Rotate trucks\n                const assignedDriver = drivers[driverIndex]; // Rotate drivers\n                const assignedAssistant = assistants[assistantIndex]; // Rotate assistants\n                // Increment driver and assistant index for rotation\n                driverIndex = (driverIndex + 1) % drivers.length;\n                assistantIndex = (assistantIndex + 1) % assistants.length;\n                if (assignedTruck && assignedDriver && assignedAssistant) {\n                    // Check if schedule already exists for the same route, truck, driver, and assistant\n                    let scheduleId;\n                    const existingSchedule = await dbQuery(`SELECT ScheduleID FROM truckschedule \r\n             WHERE TruckID = ? AND RouteID = ? AND DriverID = ? AND AssistantID = ?`, [\n                        assignedTruck.TruckID,\n                        route.RouteID,\n                        assignedDriver.DriverID,\n                        assignedAssistant.AssistantID\n                    ]);\n                    if (existingSchedule.length > 0) {\n                        scheduleId = existingSchedule[0].ScheduleID;\n                    } else {\n                        const result = await dbQuery(`INSERT INTO truckschedule (TruckID, RouteID, DriverID, AssistantID, ScheduleDate) VALUES (?, ?, ?, ?, ?)`, [\n                            assignedTruck.TruckID,\n                            route.RouteID,\n                            assignedDriver.DriverID,\n                            assignedAssistant.AssistantID,\n                            formattedDate\n                        ]);\n                        scheduleId = result.insertId;\n                    }\n                    // Assign schedule to each order in this route group\n                    for (const order of ordersForRoute){\n                        await dbQuery(`INSERT INTO order_schedule (ScheduleID, OrderID) VALUES (?, ?)`, [\n                            scheduleId,\n                            order.OrderID\n                        ]);\n                    }\n                    assignedSchedules.push({\n                        ScheduleID: scheduleId,\n                        TruckID: assignedTruck.TruckID,\n                        RouteID: route.RouteID,\n                        DriverID: assignedDriver.DriverID,\n                        AssistantID: assignedAssistant.AssistantID\n                    });\n                }\n            }\n            // Update orders' status\n            await dbQuery(`UPDATE orders SET CurrentStatus = 'Out for Final Delivery' WHERE CurrentStatus = 'At Distribution Center' AND City = ?`, [\n                city\n            ]);\n            // Fetch the updated schedule\n            const updatedSchedule = await dbQuery(`SELECT truckschedule.ScheduleID, truckschedule.TruckID, truckschedule.RouteID, truckschedule.DriverID, truckschedule.AssistantID, truckschedule.ScheduleDate\r\n         FROM truckschedule \r\n         JOIN route ON route.RouteID = truckschedule.RouteID\r\n         JOIN store ON store.StoreID = route.StoreID\r\n         WHERE store.CityName = ?`, [\n                city\n            ]);\n            res.status(200).json(updatedSchedule);\n        } catch (error) {\n            console.error(\"Failed to update schedule:\", error);\n            res.status(500).json({\n                message: \"Error updating schedule\"\n            });\n        }\n    } else {\n        res.status(405).json({\n            message: \"Method Not Allowed\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvRW1wbG95ZWUvdXBkYXRlU2NoZWR1bGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXdDO0FBQ0s7QUFFN0MsU0FBU0UsUUFBUUMsS0FBSyxFQUFFQyxTQUFTLEVBQUU7SUFDakMsT0FBTyxJQUFJQyxRQUFRLENBQUNDLFNBQVNDO1FBQzNCUCxzREFBRUEsQ0FBQ0csS0FBSyxDQUFDQSxPQUFPQyxRQUFRLENBQUNJLEtBQUtDO1lBQzVCLElBQUlELEtBQUtELE9BQU9DO2lCQUNYRixRQUFRRztRQUNmO0lBQ0Y7QUFDRjtBQUVlLGVBQWVDLFFBQVFDLEdBQUcsRUFBRUMsR0FBRztJQUM1QyxJQUFJO1FBQ0YsTUFBTVgsMERBQU9BLENBQUNVLEtBQUtDO0lBQ3JCLEVBQUUsT0FBT0MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsZUFBZUE7UUFDN0IsT0FBT0QsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFSCxPQUFPO1FBQWM7SUFDckQ7SUFFQSxJQUFJRixJQUFJTSxNQUFNLEtBQUssUUFBUTtRQUN6QixNQUFNLEVBQUVDLElBQUksRUFBRSxHQUFHUCxJQUFJUSxJQUFJO1FBRXpCLElBQUk7WUFDRixNQUFNQyxTQUFTLE1BQU1sQixRQUNuQixDQUFDLGdGQUFnRixDQUFDLEVBQ2xGO2dCQUFDZ0I7YUFBSztZQUdSLE1BQU1HLFVBQVUsTUFBTW5CLFFBQ3BCLENBQUM7OztpRUFHd0QsQ0FBQyxFQUMxRDtnQkFBQ2dCO2FBQUs7WUFHUixNQUFNSSxhQUFhLE1BQU1wQixRQUN2QixDQUFDOzs7MEVBR2lFLENBQUMsRUFDbkU7Z0JBQUNnQjthQUFLO1lBR1IsTUFBTUssU0FBUyxNQUFNckIsUUFDbkIsQ0FBQzs7OytEQUdzRCxDQUFDLEVBQ3hEO2dCQUFDZ0I7YUFBSztZQUdSLE1BQU1NLFNBQVMsTUFBTXRCLFFBQ25CLENBQUM7Ozs7Ozs7U0FPQSxDQUFDLEVBQUU7Z0JBQUNnQjtnQkFBTUE7YUFBSztZQUdsQiww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O2dCQUFFdUMsU0FBUztZQUEwQjtRQUM1RDtJQUNGLE9BQU87UUFDTDNDLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRXVDLFNBQVM7UUFBcUI7SUFDdkQ7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3NjbXMvLi9wYWdlcy9hcGkvRW1wbG95ZWUvdXBkYXRlU2NoZWR1bGUuanM/ZTEyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGIgZnJvbSBcIi4uLy4uLy4uL2JhY2tlbmQvZGIuanNcIjtcclxuaW1wb3J0IHJ1bkNvcnMgZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2NvcnMuanNcIjtcclxuXHJcbmZ1bmN0aW9uIGRiUXVlcnkocXVlcnksIHZhbHVlcyA9IFtdKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGRiLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMsIChlcnIsIHJlc3VsdCkgPT4ge1xyXG4gICAgICBpZiAoZXJyKSByZWplY3QoZXJyKTtcclxuICAgICAgZWxzZSByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBydW5Db3JzKHJlcSwgcmVzKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkNPUlMgZXJyb3I6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBcIkNPUlMgZmFpbGVkXCIgfSk7XHJcbiAgfVxyXG5cclxuICBpZiAocmVxLm1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcclxuICAgIGNvbnN0IHsgY2l0eSB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgZGJRdWVyeShcclxuICAgICAgICBgU0VMRUNUICogRlJPTSBvcmRlcnMgV0hFUkUgQ3VycmVudFN0YXR1cyA9ICdBdCBEaXN0cmlidXRpb24gQ2VudGVyJyBBTkQgQ2l0eSA9ID9gLCBcclxuICAgICAgICBbY2l0eV1cclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IGRyaXZlcnMgPSBhd2FpdCBkYlF1ZXJ5KFxyXG4gICAgICAgIGBTRUxFQ1QgZHJpdmVyLkRyaXZlcklELCBkcml2ZXIuV2Vla2x5V29ya0hvdXJzLCBkcml2ZXIuU3RvcmVJRCwgZHJpdmVyLkVtcGxveWVlSURcclxuICAgICAgICAgRlJPTSBkcml2ZXIgXHJcbiAgICAgICAgIEpPSU4gc3RvcmUgT04gc3RvcmUuU3RvcmVJRCA9IGRyaXZlci5TdG9yZUlEXHJcbiAgICAgICAgIFdIRVJFIHN0b3JlLkNpdHlOYW1lID0gPyBBTkQgZHJpdmVyLldlZWtseVdvcmtIb3VycyA8IDQwYCwgXHJcbiAgICAgICAgW2NpdHldXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCBhc3Npc3RhbnRzID0gYXdhaXQgZGJRdWVyeShcclxuICAgICAgICBgU0VMRUNUIGRyaXZlcmFzc2lzdGFudC5Bc3Npc3RhbnRJRCwgZHJpdmVyYXNzaXN0YW50LldlZWtseVdvcmtIb3VycywgZHJpdmVyYXNzaXN0YW50LlN0b3JlSUQsIGRyaXZlcmFzc2lzdGFudC5FbXBsb3llZUlEXHJcbiAgICAgICAgIEZST00gZHJpdmVyYXNzaXN0YW50IFxyXG4gICAgICAgICBKT0lOIHN0b3JlIE9OIHN0b3JlLlN0b3JlSUQgPSBkcml2ZXJhc3Npc3RhbnQuU3RvcmVJRFxyXG4gICAgICAgICBXSEVSRSBzdG9yZS5DaXR5TmFtZSA9ID8gQU5EIGRyaXZlcmFzc2lzdGFudC5XZWVrbHlXb3JrSG91cnMgPCA2MGAsIFxyXG4gICAgICAgIFtjaXR5XVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgdHJ1Y2tzID0gYXdhaXQgZGJRdWVyeShcclxuICAgICAgICBgU0VMRUNUIHRydWNrLlRydWNrSUQsIHRydWNrLlN0b3JlSUQsIHRydWNrLlRydWNrTnVtYmVyLCB0cnVjay5DYXBhY2l0eSwgdHJ1Y2suQ29uZGl0aW9uX1xyXG4gICAgICAgICBGUk9NIHRydWNrIFxyXG4gICAgICAgICBKT0lOIHN0b3JlIE9OIHN0b3JlLlN0b3JlSUQgPSB0cnVjay5TdG9yZUlEXHJcbiAgICAgICAgIFdIRVJFIHN0b3JlLkNpdHlOYW1lID0gPyBBTkQgdHJ1Y2suQ29uZGl0aW9uXyA9ICdHb29kJ2AsIFxyXG4gICAgICAgIFtjaXR5XVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3Qgcm91dGVzID0gYXdhaXQgZGJRdWVyeShcclxuICAgICAgICBgU0VMRUNUIERJU1RJTkNUIHJvdXRlLlJvdXRlSUQsIHJvdXRlLlN0b3JlSUQsIHJvdXRlLlJvdXRlRGVzY3JpcHRpb24sIHJvdXRlLk1heFRpbWVIcnNcclxuICAgICAgICAgRlJPTSByb3V0ZVxyXG4gICAgICAgICBKT0lOIHN0b3JlIE9OIHJvdXRlLlN0b3JlSUQgPSBzdG9yZS5TdG9yZUlEXHJcbiAgICAgICAgIFdIRVJFIHN0b3JlLkNpdHlOYW1lID0gPyBBTkQgcm91dGUuUm91dGVJRCBJTiAoXHJcbiAgICAgICAgICAgU0VMRUNUIERJU1RJTkNUIG9yZGVycy5Sb3V0ZUlEXHJcbiAgICAgICAgICAgRlJPTSBvcmRlcnNcclxuICAgICAgICAgICBXSEVSRSBvcmRlcnMuQ3VycmVudFN0YXR1cyA9ICdBdCBEaXN0cmlidXRpb24gQ2VudGVyJyBBTkQgb3JkZXJzLkNpdHkgPSA/KVxyXG4gICAgICAgICBgLCBbY2l0eSwgY2l0eV1cclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIEdyb3VwIG9yZGVycyBieSBSb3V0ZUlEXHJcbiAgICAgIGNvbnN0IG9yZGVyc0J5Um91dGUgPSB7fTtcclxuICAgICAgZm9yIChjb25zdCBvcmRlciBvZiBvcmRlcnMpIHtcclxuICAgICAgICBpZiAoIW9yZGVyc0J5Um91dGVbb3JkZXIuUm91dGVJRF0pIHtcclxuICAgICAgICAgIG9yZGVyc0J5Um91dGVbb3JkZXIuUm91dGVJRF0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgb3JkZXJzQnlSb3V0ZVtvcmRlci5Sb3V0ZUlEXS5wdXNoKG9yZGVyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IGFzc2lnbmVkU2NoZWR1bGVzID0gW107XHJcbiAgICAgIGxldCBkcml2ZXJJbmRleCA9IDA7XHJcbiAgICAgIGxldCBhc3Npc3RhbnRJbmRleCA9IDA7XHJcblxyXG5cclxuICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICB0b2RheS5zZXREYXRlKHRvZGF5LmdldERhdGUoKSArIDEpO1xyXG4gICAgICBjb25zdCBmb3JtYXR0ZWREYXRlID0gdG9kYXkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xyXG5cclxuICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGVhY2ggcm91dGUgYW5kIGFzc2lnbiByZXNvdXJjZXNcclxuICAgICAgZm9yIChjb25zdCByb3V0ZSBvZiByb3V0ZXMpIHtcclxuICAgICAgICBjb25zdCBvcmRlcnNGb3JSb3V0ZSA9IG9yZGVyc0J5Um91dGVbcm91dGUuUm91dGVJRF07XHJcbiAgICAgICAgaWYgKCFvcmRlcnNGb3JSb3V0ZSkgY29udGludWU7IFxyXG5cclxuICAgICAgICBjb25zdCBhc3NpZ25lZFRydWNrID0gdHJ1Y2tzLnNoaWZ0KCk7IC8vIFJvdGF0ZSB0cnVja3NcclxuICAgICAgICBjb25zdCBhc3NpZ25lZERyaXZlciA9IGRyaXZlcnNbZHJpdmVySW5kZXhdOyAvLyBSb3RhdGUgZHJpdmVyc1xyXG4gICAgICAgIGNvbnN0IGFzc2lnbmVkQXNzaXN0YW50ID0gYXNzaXN0YW50c1thc3Npc3RhbnRJbmRleF07IC8vIFJvdGF0ZSBhc3Npc3RhbnRzXHJcblxyXG4gICAgICAgIC8vIEluY3JlbWVudCBkcml2ZXIgYW5kIGFzc2lzdGFudCBpbmRleCBmb3Igcm90YXRpb25cclxuICAgICAgICBkcml2ZXJJbmRleCA9IChkcml2ZXJJbmRleCArIDEpICUgZHJpdmVycy5sZW5ndGg7XHJcbiAgICAgICAgYXNzaXN0YW50SW5kZXggPSAoYXNzaXN0YW50SW5kZXggKyAxKSAlIGFzc2lzdGFudHMubGVuZ3RoO1xyXG5cclxuICAgICAgICBpZiAoYXNzaWduZWRUcnVjayAmJiBhc3NpZ25lZERyaXZlciAmJiBhc3NpZ25lZEFzc2lzdGFudCkge1xyXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgc2NoZWR1bGUgYWxyZWFkeSBleGlzdHMgZm9yIHRoZSBzYW1lIHJvdXRlLCB0cnVjaywgZHJpdmVyLCBhbmQgYXNzaXN0YW50XHJcbiAgICAgICAgICBsZXQgc2NoZWR1bGVJZDtcclxuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU2NoZWR1bGUgPSBhd2FpdCBkYlF1ZXJ5KFxyXG4gICAgICAgICAgICBgU0VMRUNUIFNjaGVkdWxlSUQgRlJPTSB0cnVja3NjaGVkdWxlIFxyXG4gICAgICAgICAgICAgV0hFUkUgVHJ1Y2tJRCA9ID8gQU5EIFJvdXRlSUQgPSA/IEFORCBEcml2ZXJJRCA9ID8gQU5EIEFzc2lzdGFudElEID0gP2AsXHJcbiAgICAgICAgICAgIFthc3NpZ25lZFRydWNrLlRydWNrSUQsIHJvdXRlLlJvdXRlSUQsIGFzc2lnbmVkRHJpdmVyLkRyaXZlcklELCBhc3NpZ25lZEFzc2lzdGFudC5Bc3Npc3RhbnRJRF1cclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgaWYgKGV4aXN0aW5nU2NoZWR1bGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBzY2hlZHVsZUlkID0gZXhpc3RpbmdTY2hlZHVsZVswXS5TY2hlZHVsZUlEO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGJRdWVyeShcclxuICAgICAgICAgICAgICBgSU5TRVJUIElOVE8gdHJ1Y2tzY2hlZHVsZSAoVHJ1Y2tJRCwgUm91dGVJRCwgRHJpdmVySUQsIEFzc2lzdGFudElELCBTY2hlZHVsZURhdGUpIFZBTFVFUyAoPywgPywgPywgPywgPylgLFxyXG4gICAgICAgICAgICAgIFthc3NpZ25lZFRydWNrLlRydWNrSUQsIHJvdXRlLlJvdXRlSUQsIGFzc2lnbmVkRHJpdmVyLkRyaXZlcklELCBhc3NpZ25lZEFzc2lzdGFudC5Bc3Npc3RhbnRJRCwgZm9ybWF0dGVkRGF0ZV1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgc2NoZWR1bGVJZCA9IHJlc3VsdC5pbnNlcnRJZDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBBc3NpZ24gc2NoZWR1bGUgdG8gZWFjaCBvcmRlciBpbiB0aGlzIHJvdXRlIGdyb3VwXHJcbiAgICAgICAgICBmb3IgKGNvbnN0IG9yZGVyIG9mIG9yZGVyc0ZvclJvdXRlKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGRiUXVlcnkoXHJcbiAgICAgICAgICAgICAgYElOU0VSVCBJTlRPIG9yZGVyX3NjaGVkdWxlIChTY2hlZHVsZUlELCBPcmRlcklEKSBWQUxVRVMgKD8sID8pYCxcclxuICAgICAgICAgICAgICBbc2NoZWR1bGVJZCwgb3JkZXIuT3JkZXJJRF1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBhc3NpZ25lZFNjaGVkdWxlcy5wdXNoKHtcclxuICAgICAgICAgICAgU2NoZWR1bGVJRDogc2NoZWR1bGVJZCxcclxuICAgICAgICAgICAgVHJ1Y2tJRDogYXNzaWduZWRUcnVjay5UcnVja0lELFxyXG4gICAgICAgICAgICBSb3V0ZUlEOiByb3V0ZS5Sb3V0ZUlELFxyXG4gICAgICAgICAgICBEcml2ZXJJRDogYXNzaWduZWREcml2ZXIuRHJpdmVySUQsXHJcbiAgICAgICAgICAgIEFzc2lzdGFudElEOiBhc3NpZ25lZEFzc2lzdGFudC5Bc3Npc3RhbnRJRCxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVXBkYXRlIG9yZGVycycgc3RhdHVzXHJcbiAgICAgIGF3YWl0IGRiUXVlcnkoXHJcbiAgICAgICAgYFVQREFURSBvcmRlcnMgU0VUIEN1cnJlbnRTdGF0dXMgPSAnT3V0IGZvciBGaW5hbCBEZWxpdmVyeScgV0hFUkUgQ3VycmVudFN0YXR1cyA9ICdBdCBEaXN0cmlidXRpb24gQ2VudGVyJyBBTkQgQ2l0eSA9ID9gLFxyXG4gICAgICAgIFtjaXR5XVxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gRmV0Y2ggdGhlIHVwZGF0ZWQgc2NoZWR1bGVcclxuICAgICAgY29uc3QgdXBkYXRlZFNjaGVkdWxlID0gYXdhaXQgZGJRdWVyeShcclxuICAgICAgICBgU0VMRUNUIHRydWNrc2NoZWR1bGUuU2NoZWR1bGVJRCwgdHJ1Y2tzY2hlZHVsZS5UcnVja0lELCB0cnVja3NjaGVkdWxlLlJvdXRlSUQsIHRydWNrc2NoZWR1bGUuRHJpdmVySUQsIHRydWNrc2NoZWR1bGUuQXNzaXN0YW50SUQsIHRydWNrc2NoZWR1bGUuU2NoZWR1bGVEYXRlXHJcbiAgICAgICAgIEZST00gdHJ1Y2tzY2hlZHVsZSBcclxuICAgICAgICAgSk9JTiByb3V0ZSBPTiByb3V0ZS5Sb3V0ZUlEID0gdHJ1Y2tzY2hlZHVsZS5Sb3V0ZUlEXHJcbiAgICAgICAgIEpPSU4gc3RvcmUgT04gc3RvcmUuU3RvcmVJRCA9IHJvdXRlLlN0b3JlSURcclxuICAgICAgICAgV0hFUkUgc3RvcmUuQ2l0eU5hbWUgPSA/YCwgXHJcbiAgICAgICAgW2NpdHldXHJcbiAgICAgICk7XHJcblxyXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1cGRhdGVkU2NoZWR1bGUpO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gdXBkYXRlIHNjaGVkdWxlOlwiLCBlcnJvcik7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJFcnJvciB1cGRhdGluZyBzY2hlZHVsZVwiIH0pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNSkuanNvbih7IG1lc3NhZ2U6IFwiTWV0aG9kIE5vdCBBbGxvd2VkXCIgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJkYiIsInJ1bkNvcnMiLCJkYlF1ZXJ5IiwicXVlcnkiLCJ2YWx1ZXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImVyciIsInJlc3VsdCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJlcnJvciIsImNvbnNvbGUiLCJzdGF0dXMiLCJqc29uIiwibWV0aG9kIiwiY2l0eSIsImJvZHkiLCJvcmRlcnMiLCJkcml2ZXJzIiwiYXNzaXN0YW50cyIsInRydWNrcyIsInJvdXRlcyIsIm9yZGVyc0J5Um91dGUiLCJvcmRlciIsIlJvdXRlSUQiLCJwdXNoIiwiYXNzaWduZWRTY2hlZHVsZXMiLCJkcml2ZXJJbmRleCIsImFzc2lzdGFudEluZGV4IiwidG9kYXkiLCJEYXRlIiwic2V0RGF0ZSIsImdldERhdGUiLCJmb3JtYXR0ZWREYXRlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsInJvdXRlIiwib3JkZXJzRm9yUm91dGUiLCJhc3NpZ25lZFRydWNrIiwic2hpZnQiLCJhc3NpZ25lZERyaXZlciIsImFzc2lnbmVkQXNzaXN0YW50IiwibGVuZ3RoIiwic2NoZWR1bGVJZCIsImV4aXN0aW5nU2NoZWR1bGUiLCJUcnVja0lEIiwiRHJpdmVySUQiLCJBc3Npc3RhbnRJRCIsIlNjaGVkdWxlSUQiLCJpbnNlcnRJZCIsIk9yZGVySUQiLCJ1cGRhdGVkU2NoZWR1bGUiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/Employee/updateSchedule.js\n");

/***/ }),

/***/ "(api)/./utils/cors.js":
/*!***********************!*\
  !*** ./utils/cors.js ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cors */ \"cors\");\n\nconst cors = cors__WEBPACK_IMPORTED_MODULE_0__({\n    methods: [\n        \"GET\",\n        \"POST\",\n        \"PUT\",\n        \"DELETE\"\n    ],\n    origin: [\n        \"http://localhost:3000\",\n        \"https://your-frontend-domain.com\"\n    ]\n});\nfunction runCors(req, res) {\n    return new Promise((resolve, reject)=>{\n        cors(req, res, (result)=>{\n            if (result instanceof Error) {\n                return reject(result);\n            }\n            return resolve(result);\n        });\n    });\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (runCors);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9jb3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdCO0FBRXhCLE1BQU1DLE9BQU9ELGlDQUFJQSxDQUFDO0lBQ2hCRSxTQUFTO1FBQUM7UUFBTztRQUFRO1FBQU87S0FBUztJQUN6Q0MsUUFBUTtRQUFDO1FBQXlCO0tBQW1DO0FBQ3ZFO0FBRUEsU0FBU0MsUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQ3ZCLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztRQUMzQlIsS0FBS0ksS0FBS0MsS0FBSyxDQUFDSTtZQUNkLElBQUlBLGtCQUFrQkMsT0FBTztnQkFDM0IsT0FBT0YsT0FBT0M7WUFDaEI7WUFDQSxPQUFPRixRQUFRRTtRQUNqQjtJQUNGO0FBQ0Y7QUFFQSxpRUFBZU4sT0FBT0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NjbXMvLi91dGlscy9jb3JzLmpzPzdiOTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvcnMgZnJvbSBcImNvcnNcIjtcclxuXHJcbmNvbnN0IGNvcnMgPSBDb3JzKHtcclxuICBtZXRob2RzOiBbXCJHRVRcIiwgXCJQT1NUXCIsIFwiUFVUXCIsIFwiREVMRVRFXCJdLFxyXG4gIG9yaWdpbjogW1wiaHR0cDovL2xvY2FsaG9zdDozMDAwXCIsIFwiaHR0cHM6Ly95b3VyLWZyb250ZW5kLWRvbWFpbi5jb21cIl0sXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gcnVuQ29ycyhyZXEsIHJlcykge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBjb3JzKHJlcSwgcmVzLCAocmVzdWx0KSA9PiB7XHJcbiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZWplY3QocmVzdWx0KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJ1bkNvcnM7XHJcbiJdLCJuYW1lcyI6WyJDb3JzIiwiY29ycyIsIm1ldGhvZHMiLCJvcmlnaW4iLCJydW5Db3JzIiwicmVxIiwicmVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXN1bHQiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/cors.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FEmployee%2FupdateSchedule&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CEmployee%5CupdateSchedule.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();